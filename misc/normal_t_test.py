'''
Created on 26 Mar 2015

@author: quangv
'''
import matplotlib.pyplot as plt
import numpy as np
import scipy.stats as stats

""" in unique directional flow """
""" run_th_time = [[escape rate of different-distribution prototype], [escape rate of average distribution prototype]] """

run_852084 = [
              [0.673,0.933,0.833,0.673,0.897,0.886,0.673,0.933,0.624,0.663,0.673,0.864,0.933,0.909,0.909,0.673,0.897,0.933,0.864,0.909,0.663,0.634,0.875,0.933,0.673,0.933,0.897,0.933,0.897,0.644], 
              [0.805,0.897,0.663,0.683,0.824,0.833,0.897,0.909,0.644,0.897,0.795,0.644,0.778,0.875,0.663,0.833,0.683,0.972,0.897,0.604,0.909,0.824,0.854,0.663,0.683,0.787,0.824,0.814,0.663,0.753]
              ]

run_476741 = [
              [0.673,0.909,0.673,0.972,0.946,0.933,0.673,0.864,0.875,0.946,0.909,0.673,0.833,0.673,0.673,0.986,0.959,0.673,0.946,0.921,0.673,0.959,0.921,0.673,0.624,0.933,0.933,0.933,0.986,0.673],
              [0.6673,0.805,0.673,0.673,0.875,0.909,0.864,0.875,0.909,0.864,0.814,0.722,0.545,0.843,0.854,0.921,0.833,0.833,0.634,0.778,0.673,0.864,0.864,0.843,0.673,0.824,0.843,0.843,0.673,0.663]
              ]

run_813850 = [
              [0.909,0.897,0.673,0.673,0.673,0.946,0.673,0.673,0.921,0.673,0.933,0.933,0.959,0.673,0.909,0.673,0.864,0.673,0.673,0.875,0.921,0.769,0.886,0.959,0.933,0.972,0.843,0.933,0.824,0.909],
              [0.824,0.683,0.574,0.663,0.663,0.663,0.683,0.663,0.683,0.663,0.683,0.624,0.683,0.683,0.624,0.683,0.663,0.614,0.683,0.634,0.683,0.663,0.683,0.663,0.683,0.683,0.683,0.663,0.663,0.663]
              ]

run_838606 =[
             [0.972,0.897,1.014,0.921,0.933,0.972,0.875,0.833,0.946,0.778,0.921,0.959,0.909,0.933,0.933,0.972,0.986,1.029,0.673,0.673,0.864,0.946,0.875,0.959,0.673,0.875,0.972,1.014,0.933,0.897],
             [0.814,0.787,0.594,0.644,0.653,0.795,0.673,0.824,0.761,0.854,0.778,0.814,0.769,0.805,0.614,0.833,0.843,0.854,0.673,0.653,0.653,0.683,0.729,0.673,0.864,0.833,0.574,0.824,0.554,0.663]
             ]

run_563882 = [
              [0.933,0.897,0.663,0.663,0.673,0.933,1.014,0.959,0.933,0.663,0.624,0.673,0.986,0.946,0.959,0.673,0.673,0.959,0.909,0.909,0.933,0.886,0.909,0.986,0.909,0.921,0.864,0.886,0.959,0.673],
              [0.787,0.673,0.795,0.564,0.795,0.824,0.663,0.673,0.814,0.854,0.673,0.634,0.875,0.824,0.769,0.663,0.795,0.604,0.624,0.663,0.624,0.909,0.673,0.854,0.673,0.824,0.614,0.644,0.644,0.854]
              ]

run_191258 = [
              [0.909,0.673,0.886,0.673,0.795,0.897,0.673,0.673,0.833,0.875,0.673,0.683,0.673,0.886,0.986,0.814,0.673,0.673,0.946,0.673,0.843,0.909,0.875,0.921,0.864,0.875,0.875,0.624,0.737,0.886],
              [0.653,0.663,0.653,0.673,0.683,0.505,0.683,0.673,0.604,0.653,0.663,0.653,0.564,0.673,0.653,0.624,0.614,0.673,0.683,0.663,0.663,0.683,0.634,0.663,0.653,0.663,0.564,0.644,0.673,0.673]
              ]
fig = plt.figure(1)
fig.set_size_inches(12,6)
plt.title("Escape rate over trails in uni-direction scenario")
plt.xlabel("Trial")
plt.xlim([0,31])
plt.ylim([0,1.5])
plt.ylabel("Ped/s")
run_trials = [time for time in range(1,31)]
plt.plot(run_trials, run_191258[0],'r^',  label="P$_{different}$ = %.3f" % np.average(run_191258[0]))
plt.plot(run_trials, run_191258[1],'bs', label="P$_{average}$ = %.3f" % np.average(run_191258[1]))
plt.legend(loc='upper center', bbox_to_anchor=(0.5, 1.01), ncol=2, fancybox=True, shadow=True, prop={'size':10})
plt.grid(True)

#analysis_plot_prefix = os.path.join(constants.analysis_dir, "")     
fig.savefig("%s.pdf" % ("uni-direction_191258_30"))        
plt.clf()
plt.close('all') 


z,pval = stats.normaltest(run_191258[0])
print (pval)

z,pval = stats.normaltest(run_191258[1])
print (pval)

t,prob = stats.ttest_ind(run_191258[0], run_191258[1])
print(prob)